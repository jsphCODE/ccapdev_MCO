<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservation List (My Bookings)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


</head>

<body>
    <h1 class="mb-2 text-center">Reservation List</h1>

    <div class="container">
        <div class="row" id="my-bookings"></div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="booking-details" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="BookingLabel">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="BookingLabel">Booking Details</h1>
                </div>
                <div class="modal-body" id="booking-details-body">
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const bookings = [
            {
                id: 1,
                departure: "Manila",
                arrival: "Tokyo",
                date: "2025-10-15",
                passenger: "aaa bbb",
                seat: "1B",
                Passport_Number: 'aaaasda2112',
                Meal_Options: 'standard'
            },
            {
                id: 2,
                departure: "Manila",
                arrival: "China",
                date: "2025-11-01",
                passenger: "ccc ddd",
                seat: "4C",
                Passport_Number: 'asdasdcsd21',
                Meal_Options: 'standard',
            }
        ];

        $(document).ready(function () {
            const bookingList = $("#my-bookings");
            bookings.forEach(booking => {
                bookingList.append(`
          <div class="col-md-6 mb-3">
            <div class="card booking-card" data-id="${booking.id}" style="cursor:pointer;">
              <div class="card-body">
                <h5 class="card-title">${booking.departure} ‚ûù ${booking.arrival}</h5>
                <p class="card-text">Passenger: ${booking.passenger}</p>
                <p class="card-text">Date: ${booking.date}</p>
                <button class="btn btn-primary btn-sm view-detail" data-id="${booking.id}">View Details</button>
              </div>
            </div>
          </div>
        `);
            });

            // Show booking details in modal
            $(document).on("click", ".view-detail", function () {
                const bookingId = $(this).data("id");
                const booking = bookings.find(booking => booking.id === bookingId);

                $("#booking-details-body").html(`
                  <p><strong>Passenger:</strong> ${booking.passenger}</p>
                  <p><strong>From:</strong> ${booking.departure}</p>
                  <p><strong>To:</strong> ${booking.arrival}</p>
                  <p><strong>Date:</strong> ${booking.date}</p>
                  <p><strong>Seat:</strong> ${booking.seat}</p>
                  <p><strong>Passport Number:</strong> ${booking.Passport_Number}</p>
                  <p><strong>Meal Options:</strong> ${booking.Meal_Options}</p>
                `);

                const modal = new bootstrap.Modal(document.getElementById("booking-details"));
                modal.show();
            });
        });
    </script>
</body>

</html>
