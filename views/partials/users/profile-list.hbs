<div>
<h2 class="mt-5 mb-3 text-center">Profile List</h2>
    <table class="table table-striped table-bordered text-center align-middle">
      <thead class="table-dark">
        <tr>
            <th>Username</th>
            <th>Full Name</th>
            <th>Email and Phone</th>
            <th>Password</th>
            <th>Account</th>
            <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {{#each users}}
        <tr>
            <td>{{username}}</td>
            <td>{{firstName}} {{middleName}} {{lastName}}</td>
            <td>{{email}} <br> {{phone}}</td>
            <td>{{password}}</td>
            <td>{{#if isAdmin}} Admin {{else}} User {{/if}}</td>
            <td>
                <a href="/edit-profile/{{username}}" class="btn btn-primary">Edit Profile</a>
                <br>
                <a href="/delete-profile/confirm" class="btn btn-danger btn-sm delete-confirm">Delete Profile</a>
            </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    <script>
        (function(){
  $(document).on("click", ".delete-confirm", function(){
    const id = $(this).data("id");
    const r = reservations.find(x => x._id === id);
    if (!r) return;
    $("#booking-details-body").html(`
      <p><strong>Passenger:</strong> ${r.reserveUser}</p>
      <p><strong>Email:</strong> ${r.reserveEmail}</p>
      <p><strong>Passport:</strong> ${r.passportNo}</p>
      <hr>
      <p><strong>Flight:</strong> ${r.flight.flightNumber}</p>
      <p><strong>Route:</strong> ${r.flight.origin} â†’ ${r.flight.destination}</p>
      <p><strong>Seat:</strong> ${r.seat}</p>
      <p><strong>Meal:</strong> ${r.meal}</p>
      <p><strong>Baggage:</strong> ${r.baggage}</p>
      <p><strong>Created:</strong> ${new Date(r.createdAt).toLocaleString()}</p>
    `);
    new bootstrap.Modal(document.getElementById("booking-details")).show();
  });
});
    </script>
</div>